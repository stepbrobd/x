(include_subdirs no)

(rule
 (target modules.inc)
 (deps
  (file prelude.v))
 (action
  (with-stdout-to
   modules.inc
   (system
    "awk -F'\"' '/Extraction/ {gsub(/\\.ml$/, \"\", $2); printf \"%s \", $2} END {print \"\"}' %{deps}"))))

(rocq.extraction
 (prelude prelude)
 (theories AoC Stdlib)
 (flags
  :standard
  (-output-directory "."))
 (extracted_modules Y2025_D1_P1))

(library
 (name AoC)
 (modules Y2025_D1_P1))
